import machine
import time

# Define the I2C pins
sda_pin = machine.Pin(0)  # Replace with the GPIO pin you've connected to SDA
scl_pin = machine.Pin(1)  # Replace with the GPIO pin you've connected to SCL

# Initialize the I2C bus
i2c = machine.I2C(0, sda=sda_pin, scl=scl_pin)

# I2C device address (replace with your device's address)
device_address = 0x29

try:
    # Communicate with the I2C device
    # Example: read a register from the device
    i2c.writeto(device_address, b'\x01')  # Write to a specific register
    time.sleep(0.01)  # Wait for the device to process the data
    data = i2c.readfrom(device_address, 2)  # Read 2 bytes of data

    # Process the data as needed
    value = (data[0] << 8) | data[1]
    print("Received data:", value)

except Exception as e:
    print("Error:", e)

# Remember to handle errors and exceptions in your code.

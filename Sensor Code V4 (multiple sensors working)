import board
import busio
import adafruit_tca9548a
import adafruit_vl6180x
import time

# Create an I2C bus
i2c = busio.I2C(board.GP1, board.GP0)  # Adjust the pin assignments as needed

# Create a TCA9548A object
mux = adafruit_tca9548a.TCA9548A(i2c)

# Create VL6180X sensor objects for each channel
sensor1 = adafruit_vl6180x.VL6180X(mux[0])
sensor2 = adafruit_vl6180x.VL6180X(mux[1])
sensor3 = adafruit_vl6180x.VL6180X(mux[2])

# Main loop to read and print data from the sensors
while True:
    distance1 = sensor1.range
    distance2 = sensor2.range
    distance3 = sensor3.range
    
    print("Sensor 1 Distance: {0} mm".format(distance1))
    print("Sensor 2 Distance: {0} mm".format(distance2))
    print("Sensor 3 Distance: {0} mm".format(distance3))
    
    time.sleep(0.5)
